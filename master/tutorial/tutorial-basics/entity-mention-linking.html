
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using and creating entity mention linker &#8212; flair 0.13.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=9bcfa72d" />
    <link rel="stylesheet" type="text/css" href="../../_static/github_style.css?v=1093691d" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=583e1c8d"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial/tutorial-basics/entity-mention-linking';</script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tagging parts-of-speech" href="part-of-speech-tagging.html" />
    <link rel="prev" title="Tagging and linking entities" href="entity-linking.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    <p class="title logo__title">flair 0.13.1 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../contributing/index.html">
                        Contributing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../glossary/index.html">
                        Glossary
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="versionswitcherbutton" type="button" role="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="listbox" aria-controls="versionswitcherlist" aria-label="Version switcher list">
       latest (dev) 
      <span class="caret"></span>
    </button>
    <div id="versionswitcherlist" class="version-switcher__menu dropdown-menu list-group-flush py-0" role="listbox" aria-labelledby="versionswitcherbutton">
    <!-- dropdown will be populated by javascript on page load -->
      <a class="list-group-item list-group-item-action py-1" href="entity-mention-linking.html" data-version-name="dev" data-version="devdocs">
      <span>
    latest (dev)
    
    
    [x]
    </span>
      </a>
      <a class="list-group-item list-group-item-action py-1" href="../../../v0.13.1/index.html" data-version-name="dev" data-version="devdocs">
      <span>
    v0.13.1
      
    
    </span>
      </a>
      <a class="list-group-item list-group-item-action py-1" href="../../../v0.13.0/index.html" data-version-name="dev" data-version="devdocs">
      <span>
    v0.13.0
      
    
    </span>
      </a>
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/flairNLP/flair" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/flair" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../contributing/index.html">
                        Contributing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../glossary/index.html">
                        Glossary
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="versionswitcherbutton" type="button" role="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="listbox" aria-controls="versionswitcherlist" aria-label="Version switcher list">
       latest (dev) 
      <span class="caret"></span>
    </button>
    <div id="versionswitcherlist" class="version-switcher__menu dropdown-menu list-group-flush py-0" role="listbox" aria-labelledby="versionswitcherbutton">
    <!-- dropdown will be populated by javascript on page load -->
      <a class="list-group-item list-group-item-action py-1" href="entity-mention-linking.html" data-version-name="dev" data-version="devdocs">
      <span>
    latest (dev)
    
    
    [x]
    </span>
      </a>
      <a class="list-group-item list-group-item-action py-1" href="../../../v0.13.1/index.html" data-version-name="dev" data-version="devdocs">
      <span>
    v0.13.1
      
    
    </span>
      </a>
      <a class="list-group-item list-group-item-action py-1" href="../../../v0.13.0/index.html" data-version-name="dev" data-version="devdocs">
      <span>
    v0.13.0
      
    
    </span>
      </a>
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/flairNLP/flair" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/flair" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro.html">Quick Start</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tutorial 1: Basic Tagging</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basic-types.html">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-predictions-work.html">How predictions work</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagging-entities.html">Tagging entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagging-sentiment.html">Tagging sentiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="entity-linking.html">Tagging and linking entities</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using and creating entity mention linker</a></li>
<li class="toctree-l3"><a class="reference internal" href="part-of-speech-tagging.html">Tagging parts-of-speech</a></li>
<li class="toctree-l3"><a class="reference internal" href="other-models.html">Tagging other things</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-to-tag-corpus.html">How to tag a whole corpus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial-training/index.html">Tutorial 2: Training models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial-embeddings/index.html">Tutorial 3: Embeddings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/index.html">Glossary</a></li>
</ul>
</div>
        <div class="sidebar-primary-item">
<div id="searchbox"></div></div>
        <div class="sidebar-primary-item">
<h3>Versions</h3>
<ul>
  <li><a href="entity-mention-linking.html">
    
    latest (master)
    
  </a></li>
  <li><a href="../../../v0.13.1/index.html">
    
    v0.13.1
      
    
  </a></li>
  <li><a href="../../../v0.13.0/index.html">
    
    v0.13.0
      
    
  </a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Tutorials</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Tutorial 1: Basic Tagging</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Using and creating entity mention linker</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  


  <section id="using-and-creating-entity-mention-linker">
<h1>Using and creating entity mention linker<a class="headerlink" href="#using-and-creating-entity-mention-linker" title="Permalink to this heading">#</a></h1>
<p>As of Flair 0.14 we ship the <a class="reference internal" href="../../api/flair.models.html#flair.models.EntityMentionLinker" title="flair.models.EntityMentionLinker"><span class="xref myst py py-class">entity mention linker</span></a> - the core framework behind the <a class="reference external" href="https://huggingface.co/hunflair">Hunflair BioNEN aproach</a>].</p>
<section id="example-1-printing-entity-linking-outputs-to-console">
<h2>Example 1: Printing Entity linking outputs to console<a class="headerlink" href="#example-1-printing-entity-linking-outputs-to-console" title="Permalink to this heading">#</a></h2>
<p>To illustrate, let’s use the example the hunflair models on a biomedical sentence:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flair.models</span> <span class="kn">import</span> <span class="n">EntityMentionLinker</span>
<span class="kn">from</span> <span class="nn">flair.nn</span> <span class="kn">import</span> <span class="n">Classifier</span>
<span class="kn">from</span> <span class="nn">flair.tokenization</span> <span class="kn">import</span> <span class="n">SciSpacyTokenizer</span>
<span class="kn">from</span> <span class="nn">flair.data</span> <span class="kn">import</span> <span class="n">Sentence</span>

<span class="n">sentence</span> <span class="o">=</span> <span class="n">Sentence</span><span class="p">(</span>
    <span class="s2">&quot;The mutation in the ABCD1 gene causes X-linked adrenoleukodystrophy, &quot;</span>
    <span class="s2">&quot;a neurodegenerative disease, which is exacerbated by exposure to high &quot;</span>
    <span class="s2">&quot;levels of mercury in dolphin populations.&quot;</span><span class="p">,</span>
    <span class="n">use_tokenizer</span><span class="o">=</span><span class="n">SciSpacyTokenizer</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">ner_tagger</span> <span class="o">=</span> <span class="n">Classifier</span><span class="o">.</span><span class="kp">load</span><span class="p">(</span><span class="s2">&quot;hunflair&quot;</span><span class="p">)</span>
<span class="n">ner_tagger</span><span class="o">.</span><span class="kp">predict</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

<span class="n">nen_tagger</span> <span class="o">=</span> <span class="n">EntityMentionLinker</span><span class="o">.</span><span class="kp">load</span><span class="p">(</span><span class="s2">&quot;disease-linker-no-ab3p&quot;</span><span class="p">)</span>
<span class="n">nen_tagger</span><span class="o">.</span><span class="kp">predict</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">sentence</span><span class="o">.</span><span class="kp">get_labels</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here we use the <code class="docutils literal notranslate"><span class="pre">disease-linker-no-ab3p</span></code> model, as it is the simplest model to run. You might get better results by using <code class="docutils literal notranslate"><span class="pre">disease-linker</span></code> instead,
but under the hood ab3p uses an executeable that is only compiled for linux and therefore won’t run on every system.</p>
<p>Analogously to <code class="docutils literal notranslate"><span class="pre">disease</span></code> there are also linker for <code class="docutils literal notranslate"><span class="pre">chemical</span></code>, <code class="docutils literal notranslate"><span class="pre">species</span></code> and <code class="docutils literal notranslate"><span class="pre">gene</span></code>
all work with the <code class="docutils literal notranslate"><span class="pre">{entity_type}-linker</span></code> or <code class="docutils literal notranslate"><span class="pre">{entity_type}-linker-no-ab3p</span></code> naming-schema</p>
</div>
<p>This should print:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Span[4:5]: &quot;ABCD1&quot; → Gene (0.9509)</span>
<span class="go">Span[7:11]: &quot;X-linked adrenoleukodystrophy&quot; → Disease (0.9872)</span>
<span class="go">Span[7:11]: &quot;X-linked adrenoleukodystrophy&quot; → MESH:D000326/name=Adrenoleukodystrophy (195.30780029296875)</span>
<span class="go">Span[13:15]: &quot;neurodegenerative disease&quot; → Disease (0.8988)</span>
<span class="go">Span[13:15]: &quot;neurodegenerative disease&quot; → MESH:D019636/name=Neurodegenerative Diseases (201.1804962158203)</span>
<span class="go">Span[29:30]: &quot;mercury&quot; → Chemical (0.9484)</span>
<span class="go">Span[31:32]: &quot;dolphin&quot; → Species (0.8071)</span>
</pre></div>
</div>
<p>As we can see, the huflair-ner model resolved entities of several types, however for the disease linker, only those of type disease were relevant:</p>
<ul class="simple">
<li><p>“X-linked adrenoleukodystrophy” refers to the entity “<a class="reference external" href="https://id.nlm.nih.gov/mesh/D000326.html">Adrenoleukodystrophy</a>”</p></li>
<li><p>“neurodegenerative disease” refers to the “<a class="reference external" href="https://id.nlm.nih.gov/mesh/D019636.html">Neurodegenerative Diseases</a>”</p></li>
</ul>
</section>
<section id="example-2-structured-handling-of-predictions">
<h2>Example 2: Structured handling of predictions<a class="headerlink" href="#example-2-structured-handling-of-predictions" title="Permalink to this heading">#</a></h2>
<p>After the predictions, the flair sentence has multiple labels added to the sentence object.</p>
<ul class="simple">
<li><p>Each NER prediction adds a span referenced by the <code class="docutils literal notranslate"><span class="pre">label_type</span></code> from the span tagger.</p></li>
<li><p>Each NEL prediction adds one or more labels (up to <code class="docutils literal notranslate"><span class="pre">k</span></code>) to the respective span. Those have the <code class="docutils literal notranslate"><span class="pre">label_type</span></code> from the entity mention linker.</p></li>
<li><p>The NEL labels are ordered by their score. Depending on the exact implementation, it is possible that the order is ascending or descending, however the first one is always the best.</p></li>
</ul>
<p>Therefore, an example to extract the information to a dictionary that could be used for further processing is the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flair.models</span> <span class="kn">import</span> <span class="n">EntityMentionLinker</span>
<span class="kn">from</span> <span class="nn">flair.nn</span> <span class="kn">import</span> <span class="n">Classifier</span>
<span class="kn">from</span> <span class="nn">flair.tokenization</span> <span class="kn">import</span> <span class="n">SciSpacyTokenizer</span>
<span class="kn">from</span> <span class="nn">flair.data</span> <span class="kn">import</span> <span class="n">Sentence</span>

<span class="n">sentence</span> <span class="o">=</span> <span class="n">Sentence</span><span class="p">(</span>
    <span class="s2">&quot;The mutation in the ABCD1 gene causes X-linked adrenoleukodystrophy, &quot;</span>
    <span class="s2">&quot;a neurodegenerative disease, which is exacerbated by exposure to high &quot;</span>
    <span class="s2">&quot;levels of mercury in dolphin populations.&quot;</span><span class="p">,</span>
    <span class="n">use_tokenizer</span><span class="o">=</span><span class="n">SciSpacyTokenizer</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">ner_tagger</span> <span class="o">=</span> <span class="n">Classifier</span><span class="o">.</span><span class="kp">load</span><span class="p">(</span><span class="s2">&quot;hunflair&quot;</span><span class="p">)</span>
<span class="n">ner_tagger</span><span class="o">.</span><span class="kp">predict</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

<span class="n">nen_tagger</span> <span class="o">=</span> <span class="n">EntityMentionLinker</span><span class="o">.</span><span class="kp">load</span><span class="p">(</span><span class="s2">&quot;disease-linker-no-ab3p&quot;</span><span class="p">)</span>

<span class="c1"># top_k = 5 so that a span can have up to 5 labels assigned.</span>
<span class="n">nen_tagger</span><span class="o">.</span><span class="kp">predict</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">result_mentions</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">span</span> <span class="ow">in</span> <span class="n">sentence</span><span class="o">.</span><span class="kp">get_spans</span><span class="p">(</span><span class="n">ner_tagger</span><span class="o">.</span><span class="n">label_type</span><span class="p">):</span>
    
    <span class="c1"># basic information about the span that is tagged.</span>
    <span class="n">span_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">span</span><span class="o">.</span><span class="n">start_position</span> <span class="o">+</span> <span class="n">sentence</span><span class="o">.</span><span class="n">start_position</span><span class="p">,</span>
        <span class="s2">&quot;end&quot;</span><span class="p">:</span> <span class="n">span</span><span class="o">.</span><span class="n">end_position</span> <span class="o">+</span> <span class="n">sentence</span><span class="o">.</span><span class="n">start_position</span><span class="p">,</span>
        <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">span</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="c1"># add the ner label. We always have only one, so we can use `span.get_label(...)`</span>
    <span class="n">span_data</span><span class="p">[</span><span class="s2">&quot;ner_label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">span</span><span class="o">.</span><span class="kp">get_label</span><span class="p">(</span><span class="n">ner_tagger</span><span class="o">.</span><span class="n">label_type</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
    
    <span class="n">mentions_found</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># since `top_k` is larger than 1, we need to handle multiple nen labels. Therefore we use `span.get_labels(...)`</span>
    <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">span</span><span class="o">.</span><span class="kp">get_labels</span><span class="p">(</span><span class="n">nen_tagger</span><span class="o">.</span><span class="n">label_type</span><span class="p">):</span>
        <span class="n">mentions_found</span><span class="o">.</span><span class="kp">append</span><span class="p">({</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">label</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="n">label</span><span class="o">.</span><span class="n">score</span><span class="p">,</span>
        <span class="p">})</span>
        
    <span class="c1"># extract the most probable prediction if any prediction is found. </span>
    <span class="k">if</span> <span class="n">mentions_found</span><span class="p">:</span>
        <span class="n">span_data</span><span class="p">[</span><span class="s2">&quot;nen_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mentions_found</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">span_data</span><span class="p">[</span><span class="s2">&quot;nen_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        
    <span class="c1"># add all found candidates with rating if you want to explore more than just the most probable prediction.</span>
    <span class="n">span_data</span><span class="p">[</span><span class="s2">&quot;mention_candidates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mentions_found</span>
    
    <span class="n">result_mentions</span><span class="o">.</span><span class="kp">append</span><span class="p">(</span><span class="n">span_data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result_mentions</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need more than the extracted ids, you can use <code class="docutils literal notranslate"><span class="pre">nen_tagger.dictionary[span_data[&quot;nen_id&quot;]]</span></code>
to look up the <a class="reference internal" href="../../api/flair.data.html#flair.data.EntityCandidate" title="flair.data.EntityCandidate"><span class="xref myst py py-class"><code class="docutils literal notranslate"><span class="pre">flair.data.EntityCandidate</span></code></span></a> which contains further information.</p>
</div>
</section>
</section>



                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="entity-linking.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tagging and linking entities</p>
      </div>
    </a>
    <a class="right-next"
       href="part-of-speech-tagging.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tagging parts-of-speech</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1-printing-entity-linking-outputs-to-console">Example 1: Printing Entity linking outputs to console</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2-structured-handling-of-predictions">Example 2: Structured handling of predictions</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../_sources/tutorial/tutorial-basics/entity-mention-linking.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023 Alan Akbik.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>